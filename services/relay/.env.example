# ============================================================
# World ID Bridge Relay — Staging Configuration
# ============================================================
# Copy to `.env` and fill in secrets.

# ─── Required ────────────────────────────────────────────────

# World Chain RPC (primary provider). Comma-separated for fallback.
RPC_URL=https://worldchain-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}

# WorldIDSource proxy on World Chain (480).
WC_SOURCE_ADDRESS=0xFA7D591991a1357888b3C28580691393B824Ac45

# Signer — exactly one of these must be set.
WALLET_PRIVATE_KEY=
# AWS_KMS_KEY_ID=

# ─── Issuer & OPRF IDs ──────────────────────────────────────
# Comma-separated list of issuer schema IDs to track.
ISSUER_SCHEMA_IDS=295

# Comma-separated list of OPRF key IDs to track.
# OPRF key ID = uint160(issuerSchemaId).
# OPRF_KEY_IDS=295

# ─── Propagation ─────────────────────────────────────────────

# How often to call propagateState() on WorldIDSource.
PROPAGATION_INTERVAL=1h

# How often to poll for ChainCommitted events (World Chain block time).
EVENT_POLL_INTERVAL=12s

# ─── L1 EthereumMPT Relay (Ethereum mainnet) ────────────────

L1_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}

# EthereumMPTGatewayAdapter on L1.
L1_GATEWAY_ADDRESS=0x3CFEBB49fac12B20c275954Eba0BC1EA36e2a4f9

# WorldIDSatellite proxy on L1.
L1_SATELLITE_ADDRESS=0xdf9bb3d8000731FE32A66Ffe949a13c5f6F3F1AB

# OP Stack DisputeGameFactory on L1.
DISPUTE_GAME_FACTORY=0xe5965Ab5962eDc7477C8520243A95517CD252fA9

# Game type (0 = CANNON).
GAME_TYPE=0

# Set to true to wait for DEFENDER_WINS before relaying.
# Staging uses false for faster iteration.
# REQUIRE_FINALIZED=false

# ─── Dispute Game Tuning ─────────────────────────────────────

DISPUTE_GAME_POLL_INTERVAL=60s
DISPUTE_GAME_TIMEOUT=4h

# ─── Destination Chains ──────────────────────────────────────

# Path to JSON file configuring destination chain gateways.
DESTINATIONS_CONFIG=destinations-staging.json

# ─── LightClient (Helios SP1) ───────────────────────────────
# Required only if destinations include light_client gateways.
# HELIOS_PROVER_URL=http://localhost:3000

# ─── RPC Throttle ────────────────────────────────────────────

# RPC_REQUESTS_PER_SECOND=100
# RPC_BURST_SIZE=10
